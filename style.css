/* ====== Base ====== */
:root{
  --bg:#0b1220;
  --panel:#0f1a2e;
  --card:#111f39;
  --text:#eaf0ff;
  --muted:#b8c4e6;
  --accent:#7aa7ff;
  --border:rgba(255,255,255,.12);
  --shadow: 0 12px 40px rgba(0,0,0,.35);
  --radius: 16px;
}

*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: radial-gradient(1200px 600px at 20% 0%, rgba(122,167,255,.18), transparent 60%),
              radial-gradient(900px 500px at 80% 20%, rgba(122,255,196,.10), transparent 55%),
              var(--bg);
  color:var(--text);
  line-height:1.6;
}
a{ color:inherit; text-decoration:none; }
.container{ width:min(1100px, 92%); margin:0 auto; }

/* ====== Header ====== */
.header{
  position:sticky; top:0; z-index:10;
  backdrop-filter: blur(12px);
  background: rgba(11,18,32,.72);
  border-bottom:1px solid var(--border);
}
.nav{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 0;
}
.logo{
  width:42px; height:42px; border-radius:12px;
  display:grid; place-items:center;
  background: linear-gradient(135deg, rgba(122,167,255,.25), rgba(255,255,255,.08));
  border:1px solid var(--border);
  font-weight:800;
}
.menu{ display:flex; gap:16px; align-items:center; }
.menu a{
  color:var(--muted);
  padding:8px 10px;
  border-radius:12px;
}
.menu a:hover{ color:var(--text); background:rgba(255,255,255,.06); }

/* ====== Buttons ====== */
.btn{
  display:inline-block;
  padding:12px 16px;
  border-radius:14px;
  background: linear-gradient(135deg, rgba(122,167,255,.95), rgba(122,255,196,.70));
  color:#08101f;
  font-weight:700;
  box-shadow: var(--shadow);
}
.btn:hover{ transform: translateY(-1px); }
.btn-ghost{
  background: transparent;
  border:1px solid var(--border);
  color:var(--text);
  box-shadow:none;
}
.btn-sm{ padding:10px 12px; }

/* ====== Hero ====== */
.hero{ padding:72px 0 44px; }
.hero-grid{
  display:grid;
  grid-template-columns: 1.4fr .9fr;
  gap:26px;
  align-items:start;
}
.pill{
  display:inline-block;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  color:var(--muted);
  background: rgba(255,255,255,.04);
  margin:0 0 12px;
}
h1{ font-size: clamp(30px, 4vw, 48px); margin: 0 0 10px; line-height:1.15; }
.accent{ color:var(--accent); }
.lead{ color:var(--muted); font-size: 1.05rem; margin:0 0 16px; }
.cta{ display:flex; gap:12px; flex-wrap:wrap; margin:16px 0 18px; }

/* Quick cards */
.quick{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:12px;
}
.quick-card{
  padding:12px 12px;
  border-radius: var(--radius);
  border:1px solid var(--border);
  background: rgba(255,255,255,.04);
}
.quick-title{ color:var(--muted); font-size:.85rem; }
.quick-value{ font-weight:700; }

/* Profile */
.profile{
  display:grid;
  gap:14px;
}
/* .avatar{
  height:160px;
  border-radius: var(--radius);
  border:1px solid var(--border);
  background: linear-gradient(135deg, rgba(122,167,255,.22), rgba(255,255,255,.06));
  display:grid;
  place-items:center;
  font-size:44px;
  font-weight:900;
  box-shadow: var(--shadow);
  object-fit: cover;
} */
.avatar{
  width: 100%;
  height: auto;          /* ⬅️ កុំ fix height */
  max-height: 220px;     /* កំណត់កម្ពស់អតិបរមា */
  border-radius: var(--radius);
  border:1px solid var(--border);
  box-shadow: var(--shadow);
  object-fit: contain;   /* ⬅️ សំខាន់! មិនកាត់រូប */
  background: #fff;      /* ឲ្យស្អាត */
  display: block;
}
/* Fix long email/links overflow */
.quick-value,
.quick-value a,
.card a{
  overflow-wrap: anywhere;   /* break long text */
  word-break: break-word;    /* fallback */
}

.profile-box{
  padding:16px;
  border-radius: var(--radius);
  border:1px solid var(--border);
  background: rgba(255,255,255,.04);
}

/* ====== Sections ====== */
.section{ padding:56px 0; }
.section.alt{
  background: rgba(255,255,255,.03);
  border-top:1px solid var(--border);
  border-bottom:1px solid var(--border);
}
h2{ font-size: 28px; margin:0 0 12px; }
.muted{ color:var(--muted); }

.grid-2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:16px;
}

.card{
  padding:18px;
  border-radius: var(--radius);
  border:1px solid var(--border);
  background: rgba(255,255,255,.04);
  box-shadow: 0 10px 24px rgba(0,0,0,.18);
}
.card h3{ margin:0 0 8px; }

.list{ margin:10px 0 0; padding-left:18px; }
.list li{ margin:8px 0; color:var(--muted); }

.skills{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:16px;
}

.cards{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:16px;
}
.project .badge{
  display:inline-block;
  font-size:.78rem;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(122,167,255,.12);
  color:var(--text);
  margin-bottom:8px;
}
.meta{ margin:12px 0 0; padding-left:18px; color:var(--muted); }
.links{ margin-top:14px; display:flex; gap:14px; flex-wrap:wrap; }
.link{
  color:var(--accent);
  border-bottom:1px dashed rgba(122,167,255,.55);
}
.link:hover{ border-bottom-style: solid; }

.timeline{ display:grid; gap:16px; }
.timeline-top{ display:flex; justify-content:space-between; gap:14px; flex-wrap:wrap; }

/* ====== Footer ====== */
.footer{ padding:22px 0; border-top:1px solid var(--border); }
.footer-inner{
  display:flex; justify-content:space-between; align-items:center;
  gap:12px; flex-wrap:wrap;
  color:var(--muted);
}

/* ====== Responsive ====== */
@media (max-width: 920px){
  .hero-grid{ grid-template-columns: 1fr; }
  .quick{ grid-template-columns: 1fr; }
  .skills{ grid-template-columns: 1fr; }
  .cards{ grid-template-columns: 1fr; }
  .grid-2{ grid-template-columns: 1fr; }
  .menu{ gap:10px; flex-wrap:wrap; justify-content:flex-end; }
}

/* ===== Mobile support (all phones) ===== */
@media (max-width: 520px){

  /* Safe spacing on phones */
  .container{ width: min(1100px, 92%); }

  /* Header: avoid overflow + allow wrapping */
  .nav{
    padding: 10px 0;
    gap: 10px;
  }
  .menu{
    gap: 8px;
    flex-wrap: wrap;
    justify-content: flex-end;
  }
  .menu a{
    padding: 7px 9px;
    font-size: 14px;
  }

  /* Make the Contact button not too big */
  .btn-sm{
    padding: 8px 10px;
    font-size: 14px;
    border-radius: 12px;
  }

  /* Hero spacing */
  .hero{ padding: 56px 0 28px; }
  h1{ font-size: 30px; }
  .lead{ font-size: 0.98rem; }

  /* Pill: wrap long text nicely */
  .pill{
    max-width: 100%;
    white-space: normal;      /* allow wrap */
    line-height: 1.35;
  }

  /* Buttons stack better */
  .cta{
    gap: 10px;
  }
  .btn{
    width: 100%;
    text-align: center;
  }
  .btn-ghost{
    width: 100%;
    text-align: center;
  }

  /* Quick cards: 1 column */
  .quick{
    grid-template-columns: 1fr;
  }

  /* Cards & sections */
  .section{ padding: 44px 0; }
  .card{ padding: 16px; }

  /* Projects / Skills / Grid become 1 column */
  .skills, .cards, .grid-2{
    grid-template-columns: 1fr;
  }

  /* Make sticky header not cover anchors too much */
  section{ scroll-margin-top: 90px; }
}

/* Extra small phones (very narrow) */
@media (max-width: 360px){
  .menu a{ font-size: 13px; }
  h1{ font-size: 28px; }
  .btn, .btn-ghost{ padding: 11px 12px; }
}
body{
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}
.header{
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}
@media (max-width: 520px){
  .menu a[href="#experience"]{ display:none; }
}
